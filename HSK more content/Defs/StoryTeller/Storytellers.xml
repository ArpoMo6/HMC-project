<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <StorytellerDef ParentName="BaseStoryteller" Name="BaseStorytellerHighPopHMC" Abstract="True">
    <populationIntentFactorFromPopCurve>
      <points>
        <li>0,  8.0</li>
        <li>1,  2.0</li>
        <li>6,  1.0</li>
        <li>10,  0.35</li>
        <li>15, 0.0</li>
        <li>21,-1.0</li>
      </points>
    </populationIntentFactorFromPopCurve>
  </StorytellerDef>

  <StorytellerDef ParentName="BaseStorytellerHighPopHMC">
    <defName>KaRey_HMC</defName>
    <label>«KaRey» duet</label>
    <description>If you wondered «What will happen if you combine these two storytellers here», then the answer is in front of you. This hybrid storyteller takes the best (or worst) of his prototypes, offering a cross between Kara and Rey, whose frequency is increased by an average of 10%.\nThe storyteller is in a state of testing. It's works well, but due to its "hybrid" origin it can be a bit too extreme or too quite.\nThis storyteller prefers to see more colonists in your colony than others.</description>
    <portraitLarge>UI/HeroArt/Storytellers/KaReyduet</portraitLarge>
    <portraitTiny>UI/HeroArt/Storytellers/KaReyduetTiny</portraitTiny>
    <listOrder>48</listOrder>
    <comps>
      <!-- Intro -->
      <li Class="StorytellerCompProperties_ClassicIntro"/>
      <!-- Home threats -->
      <li Class="StorytellerCompProperties_OnOffCycle">
        <category>ThreatBig</category>
        <minDaysPassed>9.0</minDaysPassed>
        <onDays>7.3</onDays>
        <offDays>10</offDays>
        <minSpacingDays>2.3</minSpacingDays>
        <numIncidentsRange>1~2</numIncidentsRange>
        <forceRaidEnemyBeforeDaysPassed>28</forceRaidEnemyBeforeDaysPassed>
        <disallowedTargetTags>
          <li>Map_RaidBeacon</li>
        </disallowedTargetTags>
      </li>
      <li Class="StorytellerCompProperties_ThreatsGenerator">
        <allowedTargetTags>
          <li>Map_RaidBeacon</li>
        </allowedTargetTags>
        <parms>
          <allowedThreats>Raids</allowedThreats>
          <onDays>1.0</onDays>
          <offDays>0.5</offDays>
          <minSpacingDays>0.04</minSpacingDays>
          <numIncidentsRange>1~2</numIncidentsRange>
          <minThreatPoints>500</minThreatPoints>
        </parms>
      </li>
      <li Class="StorytellerCompProperties_OnOffCycle">
        <category>ThreatSmall</category>
        <minDaysPassed>11.0</minDaysPassed>
        <onDays>6.8</onDays>
        <offDays>9.5</offDays>
        <numIncidentsRange>0.2~1</numIncidentsRange>
        <acceptPercentFactorPerThreatPointsCurve>
          <points>
            <li>(800, 1)</li>
            <li>(2800, 0)</li>
          </points>
        </acceptPercentFactorPerThreatPointsCurve>
      </li>
      <!-- Home misc incidents-->
      <li Class="StorytellerCompProperties_CategoryMTB">
        <category>Misc</category>
        <allowedTargetTags>
          <li>Map_PlayerHome</li>
        </allowedTargetTags>
        <minDaysPassed>5</minDaysPassed>
        <mtbDays>4.8</mtbDays>
      </li>
      <li Class="StorytellerCompProperties_ShipChunkDrop"/>
      <li Class="StorytellerCompProperties_Disease">
        <category>DiseaseHuman</category>
        <minDaysPassed>8</minDaysPassed>
      </li>
      <li Class="StorytellerCompProperties_Disease">
        <category>DiseaseAnimal</category>
        <minDaysPassed>1</minDaysPassed>
      </li>
      <!-- Ally/neutral interaction -->
      <li Class="StorytellerCompProperties_FactionInteraction">
        <incident>RaidFriendly</incident>
        <baseIncidentsPerYear>5</baseIncidentsPerYear>
        <minSpacingDays>0.4</minSpacingDays>
        <fullAlliesOnly>false</fullAlliesOnly>
        <minDanger>High</minDanger>
      </li>
      <li Class="StorytellerCompProperties_FactionInteraction">
        <incident>TraderCaravanArrival</incident>
        <minDaysPassed>4</minDaysPassed>
        <baseIncidentsPerYear>3</baseIncidentsPerYear>
        <minSpacingDays>7</minSpacingDays>
        <allowedTargetTags>
          <li>Map_PlayerHome</li>
        </allowedTargetTags>
      </li>
      <li Class="StorytellerCompProperties_FactionInteraction">
        <incident>VisitorGroup</incident>
        <minDaysPassed>3</minDaysPassed>
        <baseIncidentsPerYear>2</baseIncidentsPerYear>
        <minSpacingDays>5</minSpacingDays>
        <allowedTargetTags>
          <li>Map_PlayerHome</li>
        </allowedTargetTags>
      </li>
      <li Class="StorytellerCompProperties_FactionInteraction">
        <incident>TravelerGroup</incident>
        <minDaysPassed>1</minDaysPassed>
        <baseIncidentsPerYear>3</baseIncidentsPerYear>
        <minSpacingDays>1</minSpacingDays>
        <allowedTargetTags>
          <li>Map_PlayerHome</li>
        </allowedTargetTags>
      </li>
      <!-- Caravan / temp map -->
      <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
        <category>Misc</category>
        <allowedTargetTags>
          <li>Caravan</li>
          <li>Map_TempIncident</li>
        </allowedTargetTags>
      </li>
      <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
        <category>ThreatSmall</category>
        <applyCaravanVisibility>true</applyCaravanVisibility>
        <allowedTargetTags>
          <li>Caravan</li>
          <li>Map_TempIncident</li>
        </allowedTargetTags>
      </li>
      <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
        <category>ThreatBig</category>
        <applyCaravanVisibility>true</applyCaravanVisibility>
        <allowedTargetTags>
          <li>Caravan</li>
          <li>Map_TempIncident</li>
        </allowedTargetTags>
      </li>
      <!-- Quests - non-Royalty -->
      <li Class="StorytellerCompProperties_RandomQuest">
        <category>GiveQuest</category>
        <allowedTargetTags>
          <li>World</li>
        </allowedTargetTags>
        <onDays>10</onDays>
        <numIncidentsRange>1~2</numIncidentsRange>
        <acceptFractionByDaysPassedCurve>
          <points>
            <li>(8, 0)</li>
            <li>(15, 1)</li>
          </points>
        </acceptFractionByDaysPassedCurve>
        <minSpacingDays>0.5</minSpacingDays>
        <disableIfAnyModActive>
          <li>Ludeon.RimWorld.Royalty</li>
        </disableIfAnyModActive>
      </li>
      <!-- Quests - Royalty -->
      <li Class="StorytellerCompProperties_RandomQuest">
        <category>GiveQuest</category>
        <allowedTargetTags>
          <li>World</li>
        </allowedTargetTags>
        <onDays>12</onDays>
        <numIncidentsRange>2~3</numIncidentsRange>
        <acceptFractionByDaysPassedCurve>
          <points>
            <li>(8, 0)</li>
            <li>(15, 1)</li>
          </points>
        </acceptFractionByDaysPassedCurve>
        <minSpacingDays>0.5</minSpacingDays>
        <enableIfAnyModActive>
          <li>Ludeon.RimWorld.Royalty</li>
        </enableIfAnyModActive>
      </li>
      <!-- World misc incidents-->
      <li Class="StorytellerCompProperties_CategoryMTB">
        <category>Misc</category>
        <allowedTargetTags>
          <li>World</li>
        </allowedTargetTags>
        <minDaysPassed>8</minDaysPassed>
        <mtbDays>15</mtbDays>
      </li>
      <!-- Orbital trader -->
      <li Class="StorytellerCompProperties_OnOffCycle">
        <incident>OrbitalTraderArrival</incident>
        <onDays>7</onDays>
        <offDays>8</offDays>
        <numIncidentsRange>1</numIncidentsRange>
      </li>
      <!-- Triggered -->
      <li Class="StorytellerCompProperties_Triggered">
        <incident>StrangerInBlackJoin</incident>
        <delayTicks>180</delayTicks>
      </li>
		<li Class="StorytellerCompProperties_RandomMain">
		 <allowedTargetTags>
			<li>Map_PlayerHome</li>
		 </allowedTargetTags>
		 <minDaysPassed>1.62</minDaysPassed>
		 <mtbDays>1.62</mtbDays>
		 <maxThreatBigIntervalDays>20</maxThreatBigIntervalDays>
		 <minIncChancePopulationIntentFactor>0.2</minIncChancePopulationIntentFactor>
		 <randomPointsFactorRange>0.5~1.5</randomPointsFactorRange>
		 <skipThreatBigIfRaidBeacon>true</skipThreatBigIfRaidBeacon>
		 <categoryWeights>
			<Misc>5.0</Misc>
			<ThreatBig>1.0</ThreatBig>
			<OrbitalVisitor>1.0</OrbitalVisitor>
			<FactionArrival>1.0</FactionArrival>
			<ThreatSmall>1.0</ThreatSmall>
			<ShipChunkDrop>0.5</ShipChunkDrop>
		 </categoryWeights>
		</li>
      <li Class="StorytellerCompProperties_OnOffCycle">
		<incident>RaidEnemy</incident>
        <minDaysPassed>111</minDaysPassed>
        <onDays>0.12</onDays>
        <offDays>120.88</offDays>
        <minSpacingDays>0.005</minSpacingDays>
        <numIncidentsRange>2~3</numIncidentsRange>
      </li>
      <li Class="StorytellerCompProperties_OnOffCycle">
		<incident>AnimalInsanitySingle</incident>
        <minDaysPassed>1.5</minDaysPassed>
        <onDays>0.12</onDays>
        <offDays>60.88</offDays>
        <numIncidentsRange>0~1</numIncidentsRange>
      </li>
    </comps>
  </StorytellerDef>

	<StorytellerDef ParentName="BaseStorytellerHighPopHMC">
		<defName>UberPeka_HMC</defName>
		<label>Uber Peka</label>
		<description>Uber Peka is a country girl who loves a many play. Too-too many...</description>
		<portraitLarge>UI/HeroArt/Storytellers/UP_STORY</portraitLarge>
		<portraitTiny>UI/HeroArt/Storytellers/UP_STORY_TINY</portraitTiny>
		<listOrder>62</listOrder>
		<comps>
			<!-- Home all -->
			<li Class="StorytellerCompProperties_RandomMain">
				<allowedTargetTags>
					<li>Map_PlayerHome</li>
				</allowedTargetTags>
				<minDaysPassed>0.39</minDaysPassed>
				<mtbDays>0.33</mtbDays>
				<maxThreatBigIntervalDays>8</maxThreatBigIntervalDays>
				<minIncChancePopulationIntentFactor>0.2</minIncChancePopulationIntentFactor>
				<randomPointsFactorRange>0.5~2</randomPointsFactorRange>
				<skipThreatBigIfRaidBeacon>true</skipThreatBigIfRaidBeacon>
				<categoryWeights>
					<Misc>4.25</Misc>
					<ThreatBig>1.5</ThreatBig>
					<OrbitalVisitor>1</OrbitalVisitor>
					<FactionArrival>1</FactionArrival>
					<ThreatSmall>1.25</ThreatSmall>
					<ShipChunkDrop>1</ShipChunkDrop>
				</categoryWeights>
			</li>
			<li Class="StorytellerCompProperties_Disease">
				<category>DiseaseHuman</category>
				<minDaysPassed>4.5</minDaysPassed>
			</li>
			<li Class="StorytellerCompProperties_Disease">
				<category>DiseaseAnimal</category>
				<minDaysPassed>4.5</minDaysPassed>
			</li>
			<!-- Home special threats -->
			<li Class="StorytellerCompProperties_ThreatsGenerator">
				<allowedTargetTags>
					<li>Map_RaidBeacon</li>
				</allowedTargetTags>
				<parms>
					<allowedThreats>Raids</allowedThreats>
					<onDays>1.0</onDays>
					<offDays>0.5</offDays>
					<minSpacingDays>0.04</minSpacingDays>
					<numIncidentsRange>1~2</numIncidentsRange>
				</parms>
			</li>
			<!-- Ally/neutral interaction -->
			<li Class="StorytellerCompProperties_FactionInteraction">
				<incident>RaidFriendly</incident>
				<baseIncidentsPerYear>10</baseIncidentsPerYear>
				<minSpacingDays>0.4</minSpacingDays>
				<fullAlliesOnly>true</fullAlliesOnly>
				<minDanger>High</minDanger>
			</li>
			<!-- Caravan / temp map -->
			<li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
				<category>Misc</category>
				<allowedTargetTags>
					<li>Caravan</li>
					<li>Map_TempIncident</li>
				</allowedTargetTags>
			</li>
			<li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
				<category>ThreatSmall</category>
				<applyCaravanVisibility>true</applyCaravanVisibility>
				<allowedTargetTags>
					<li>Caravan</li>
					<li>Map_TempIncident</li>
				</allowedTargetTags>
			</li>
			<li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
				<category>ThreatBig</category>
				<applyCaravanVisibility>true</applyCaravanVisibility>
				<allowedTargetTags>
					<li>Caravan</li>
					<li>Map_TempIncident</li>
				</allowedTargetTags>
			</li>
			<!-- Quests - non-Royalty -->
			<li Class="StorytellerCompProperties_RandomQuest">
				<category>GiveQuest</category>
				<allowedTargetTags>
					<li>World</li>
				</allowedTargetTags>
				<onDays>10</onDays>
				<numIncidentsRange>2</numIncidentsRange>
				<acceptFractionByDaysPassedCurve>
					<points>
						<li>(5, 0)</li>
						<li>(30, 1)</li>
					</points>
				</acceptFractionByDaysPassedCurve>
				<minSpacingDays>0.2</minSpacingDays>
				<disableIfAnyModActive>
					<li>Ludeon.RimWorld.Royalty</li>
				</disableIfAnyModActive>
			</li>
			<!-- Quests - Royalty -->
			<li Class="StorytellerCompProperties_RandomQuest">
				<category>GiveQuest</category>
				<allowedTargetTags>
					<li>World</li>
				</allowedTargetTags>
				<onDays>12</onDays>
				<numIncidentsRange>1~5</numIncidentsRange>
				<acceptFractionByDaysPassedCurve>
					<points>
						<li>(5, 0)</li>
						<li>(11, 1)</li>
					</points>
				</acceptFractionByDaysPassedCurve>
				<minSpacingDays>0.2</minSpacingDays>
				<enableIfAnyModActive>
					<li>Ludeon.RimWorld.Royalty</li>
				</enableIfAnyModActive>
			</li>
			<!-- World misc incidents-->
			<li Class="StorytellerCompProperties_CategoryMTB">
				<category>Misc</category>
				<allowedTargetTags>
					<li>World</li>
				</allowedTargetTags>
				<minDaysPassed>1</minDaysPassed>
				<mtbDays>15</mtbDays>
			</li>
			<!-- Triggered -->
			<li Class="StorytellerCompProperties_Triggered">
				<incident>StrangerInBlackJoin</incident>
				<delayTicks>180</delayTicks>
			</li>
			<li Class="StorytellerCompProperties_FactionInteraction">
				<incident>TraderCaravanArrival</incident>
				<minDaysPassed>3</minDaysPassed>
				<baseIncidentsPerYear>6</baseIncidentsPerYear>
				<allowedTargetTags>
					<li>Map_PlayerHome</li>
				</allowedTargetTags>
			</li>
		</comps>
	</StorytellerDef>

</Defs>

